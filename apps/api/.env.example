DATABASE_URL=postgresql://rag:rag@localhost:5432/rag
LLM_PROVIDER=ollama
LLM_TIMEOUT_S=60
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama3.1:8b
OPENAI_API_KEY=
OPENAI_MODEL=gpt-4o-mini
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_TIMEOUT_S=60
LLM_SYSTEM_PROMPT=You are a helpful assistant. Use only the provided context.\nCONTEXT:\n{context}\n

# Advanced retrieval rollout (5.3)
# Dev/staging recommendation: set enabled=true, strategy=advanced_hybrid, rollout=100, shadow eval sample=100
# Prod recommendation: start rollout=0 with shadow eval sample=5, then increase gradually after gates pass
ADV_RETRIEVAL_ENABLED=true
ADV_RETRIEVAL_ALLOW_REQUEST_OVERRIDE=false
RETRIEVAL_STRATEGY=advanced_hybrid
RERANKER_VARIANT=rrf_simple
QUERY_REWRITE_POLICY=simple
ADV_RETRIEVAL_ROLLOUT_PERCENT=100
ADV_RETRIEVAL_EVAL_MODE=shadow
ADV_RETRIEVAL_EVAL_SAMPLE_PERCENT=100
ADV_RETRIEVAL_EVAL_TIMEOUT_MS=2000
